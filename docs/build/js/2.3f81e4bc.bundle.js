(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{153:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_locales=__webpack_require__(5),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_classnames2=_interopRequireDefault(__webpack_require__(2)),_lodash2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SearchBar=function(_React$Component){function SearchBar(props){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SearchBar);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(SearchBar.__proto__||Object.getPrototypeOf(SearchBar)).call(this,props));return _this.state={id:props.id||"_mgm_search_bar_id"+(Math.random()+"").slice(2),focus:props.defaultFocus},_this.handleOK=_this.handleOK.bind(_this),_this.handleFocus=_this.handleFocus.bind(_this),_this.handleBlur=_this.handleBlur.bind(_this),_this.handleChange=_this.handleChange.bind(_this),_this.handleClear=_this.handleClear.bind(_this),_this.handleCancel=_this.handleCancel.bind(_this),_this.handleInputFocus=_this.handleInputFocus.bind(_this),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(SearchBar,_React$Component),_createClass(SearchBar,[{key:"componentDidMount",value:function(){console.warn("Deprecated. Use Search or SearchPage instead.")}},{key:"render",value:function(){var _this2=this,cn=(0,_classnames2.default)("weui-search-bar",{"weui-search-bar_focusing":this.props.value||this.state.focus});return _react2.default.createElement("div",{className:cn},_react2.default.createElement("form",{className:"weui-search-bar__form",onSubmit:this.handleOK},_react2.default.createElement("div",{className:"weui-search-bar__box",onClick:this.handleInputFocus},_react2.default.createElement("i",{className:"weui-icon-search"}),_react2.default.createElement("input",{id:this.state.id,type:"search",className:"weui-search-bar__input",placeholder:this.props.placeholder,ref:function(_ref){return _this2.input=_ref},onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,value:this.props.value,autoFocus:this.props.defaultFocus}),""===this.props.value?void 0:_react2.default.createElement("a",{href:"javascript:",className:"weui-icon-clear",onClick:this.handleClear})),_react2.default.createElement("label",{htmlFor:this.state.id,className:"flex flex-align-center weui-search-bar__label",onClick:this.handleInputFocus},_react2.default.createElement("i",{className:"weui-icon-search"}),_react2.default.createElement("span",null,this.props.placeholder))),this.props.OKBtn?_react2.default.createElement("a",{href:"javascript:",className:"weui-search-bar__cancel-btn",onClick:this.handleOK},!0===this.props.OKBtn?(0,_locales.getLocale)("搜索"):this.props.OKBtn):_react2.default.createElement("a",{href:"javascript:",className:"weui-search-bar__cancel-btn",onClick:this.handleCancel},(0,_locales.getLocale)("取消")))}},{key:"handleInputFocus",value:function(e){e&&e.preventDefault(),this.setState({focus:!0}),this.input&&this.input.focus()}},{key:"handleFocus",value:function(e){e&&e.preventDefault(),this.props.onFocus(e),this.setState({focus:!0})}},{key:"handleBlur",value:function(e){var _this3=this;e&&e.preventDefault(),this.props.onBlur(e),setTimeout((function(){_this3.setState({focus:!1})}),500)}},{key:"handleClear",value:function(e){e&&e.preventDefault(),this.props.onChange(""),this.props.onClear(),this.input&&this.input.focus()}},{key:"handleCancel",value:function(e){e&&e.preventDefault(),this.setState({focus:!1}),this.props.onChange(""),this.props.onCancel(),this.input&&this.input.blur()}},{key:"handleOK",value:function(e){e&&e.preventDefault(),this.input&&this.input.blur(),this.props.onOK(),this.setState({focus:!1})}},{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}}]),SearchBar}(_react2.default.Component);SearchBar.defaultProps={defaultFocus:!1,onBlur:_lodash2.default.noop,onFocus:_lodash2.default.noop,onOK:_lodash2.default.noop,onCancel:_lodash2.default.noop,onClear:_lodash2.default.noop,OKBtn:!1},SearchBar.propTypes={defaultFocus:_propTypes2.default.bool,value:_propTypes2.default.string.isRequired,onChange:_propTypes2.default.func.isRequired,onBlur:_propTypes2.default.func,onFocus:_propTypes2.default.func,placeholder:_propTypes2.default.string,onOK:_propTypes2.default.func,onCancel:_propTypes2.default.func,onClear:_propTypes2.default.func,OKBtn:_propTypes2.default.oneOfType([_propTypes2.default.bool,_propTypes2.default.string])},exports.default=SearchBar},90:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=_interopRequireDefault(__webpack_require__(0)),_page2=_interopRequireDefault(__webpack_require__(11)),_search_bar2=_interopRequireDefault(__webpack_require__(153));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SearchBarWrap=function(_React$Component){function SearchBarWrap(props){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SearchBarWrap);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(SearchBarWrap.__proto__||Object.getPrototypeOf(SearchBarWrap)).call(this,props));return _this.state={defaultFocus:!1,value:""},_this.handleChange=_this.handleChange.bind(_this),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(SearchBarWrap,_React$Component),_createClass(SearchBarWrap,[{key:"render",value:function(){return _react2.default.createElement(_page2.default,null,_react2.default.createElement(_search_bar2.default,{placeholder:"搜索商品",value:this.state.value,onChange:this.handleChange,onOK:this.handleOK,onCancel:this.handleCancel,onBlur:this.handleBlur,onFocus:this.handleFocus}),_react2.default.createElement(_search_bar2.default,{placeholder:"搜索商品",value:this.state.value,onChange:this.handleChange,onOK:this.handleOK,onCancel:this.handleCancel,onBlur:this.handleBlur,OKBtn:!0,defaultFocus:!0}))}},{key:"handleFocus",value:function(){console.log("focus")}},{key:"handleBlur",value:function(){console.log("blur")}},{key:"handleChange",value:function(value){this.setState({value:value})}},{key:"handleOK",value:function(){console.log("ok")}},{key:"handleCancel",value:function(){console.log("cancel")}}]),SearchBarWrap}(_react2.default.Component);exports.default=SearchBarWrap}}]);